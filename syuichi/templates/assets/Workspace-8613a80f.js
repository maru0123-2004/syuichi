var C=Object.defineProperty;var T=(o,e,t)=>e in o?C(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var y=(o,e,t)=>(T(o,typeof e!="symbol"?e+"":e,t),t);import{a1 as m,r as E,j as D,h as I,a6 as i,a2 as c,a7 as p,q as s,a4 as h,F as S,a8 as $,a3 as B,a9 as d}from"./index-01640995.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";class V{constructor(e){y(this,"id");y(this,"x",0);y(this,"y",0);this.id=e}}const F=m({__name:"WorkspaceView",setup(o){const e=E(),t=new Map,r=D(new Array),l=D({stageConfig:I(()=>{var a,n;return{width:(a=e.value)==null?void 0:a.clientWidth,height:(n=e.value)==null?void 0:n.clientHeight}})});function u(a){const n=t.get(a)??1;return t.set(a,n+1),n}const g=a=>{a.preventDefault()},w=a=>{var v;a.preventDefault();const n=(v=a.dataTransfer)==null?void 0:v.getData("text/plain");if(console.log(n),!n)return;const x=n+u(n);let _=new V(x);_.x=a.clientX-25,_.y=a.clientY-25,r.push(_)};return(a,n)=>{const x=i("v-rect"),_=i("v-text"),v=i("v-group"),W=i("v-layer"),b=i("v-stage");return c(),p("div",{id:"workspace-view",ref_key:"view",ref:e,onDragover:g,onDrop:w},[s(b,{config:l.stageConfig},{default:h(()=>[s(W,{ref:"layer"},{default:h(()=>[(c(!0),p(S,null,$(r,f=>(c(),B(v,{key:f.id,config:{x:f.x,y:f.y,draggable:!0}},{default:h(()=>[s(x,{config:{width:50,height:50,fill:"black"}}),s(_,{config:{x:0,y:60,width:50,text:f.id,align:"center"}},null,8,["config"])]),_:2},1032,["config"]))),128))]),_:1},512)]),_:1},8,["config"])],544)}}});const L={id:"tab"},N=m({__name:"WorkspaceComponentsTab",setup(o){const e=r=>{var u,g;const l=(u=r.target)==null?void 0:u.dataset.type;(g=r.dataTransfer)==null||g.setData("text/plain",l),r.target.style.opacity="0.5"},t=r=>{r.target.style.opacity="1.0"};return(r,l)=>(c(),p("div",L,[d("div",{id:"server",draggable:"true","data-type":"HTML",onDragstart:e,onDragend:t},null,32),d("div",{id:"server",draggable:"true","data-type":"DNS",onDragstart:e,onDragend:t},null,32),d("div",{id:"server",draggable:"true","data-type":"FILE",onDragstart:e,onDragend:t},null,32)]))}});const H=k(N,[["__scopeId","data-v-0271442d"]]),M={id:"editor"},j=m({__name:"WorkspaceEditor",setup(o){return(e,t)=>(c(),p("div",M,[d("div",null,[s(F)]),d("div",null,[s(H)])]))}});const q=k(j,[["__scopeId","data-v-d01891c0"]]),A={id:"workspace"},O=m({__name:"Workspace",setup(o){return(e,t)=>(c(),p("div",A,[s(q)]))}});const G=k(O,[["__scopeId","data-v-a4026351"]]);export{G as default};
